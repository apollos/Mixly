<xml version="Mixly 3.0 rc0" board="Python ESP32-C2@MixGo MINI" shown="block"><block type="variables_set" id="Xxk4V;b28~6G7C716-:P" x="-1507" y="-136"><field name="VAR">电梯所在楼层</field><value name="VALUE"><block type="math_number" id="-=^N=a`D?alU)B(,U_Id"><field name="NUM">1</field></block></value><next><block type="variables_set" id="$3`@$YmI7NbGW.deGJ#L"><field name="VAR">用户所在楼层</field><value name="VALUE"><block type="math_number" id="d(lIf3bxacVeLR0G81th"><field name="NUM">1</field></block></value><next><block type="variables_set" id="ihQ}H@v/w*cSHYS7~39D"><field name="VAR">用户目标楼层</field><value name="VALUE"><block type="math_number" id="gD2Mb$,+(9nmgUdzMuvq"><field name="NUM">1</field></block></value><next><block type="variables_set" id="j+JG@ur4U$Hy?o-BPd.E"><field name="VAR">电梯行为</field><value name="VALUE"><block type="text" id="TJ[Wc!jSTWOnUjuWp`R_"><field name="TEXT">-</field></block></value><next><block type="variables_set" id="6p5CAkWqNT_2`$k^ue?J"><field name="VAR">用户认证</field><value name="VALUE"><block type="logic_boolean" id="t=/wrvZaDz1Ba^;JFAZ+"><field name="BOOL">FALSE</field></block></value><next><block type="display_show_image_or_string_delay" id="1uB}O?}sC,yxS.dxA#Gv"><field name="center">True</field><value name="data"><shadow type="text" id="l_Y_X2?X9Mu-)VwRB6$^"><field name="TEXT">x</field></shadow></value><value name="space"><shadow type="math_number" id="Bxx}.Hs=iW0Fi5^gv6e?"><field name="NUM">0</field></shadow></value><next><block type="controls_whileUntil" id="8:^p;vqI)N_2f#ay}0Z{"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id="y-K)OGZ.,O|r5iTt#+1j"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="controls_if" id="L4g|nEUS}37~Z[@|;~4l"><value name="IF0"><block type="logic_compare" id="b63K|^VbN|v2S7=YxwA5"><field name="OP">LT</field><value name="A"><block type="sensor_mixgo_touch_slide" id="a(GH3r!v`m3,a~.f7L#R"></block></value><value name="B"><block type="math_number" id="@iKgmX}MOf|WBG~i`WZ|"><field name="NUM">50</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="!a:g9a[-U]8*K!I1A4Yc" inline="false" collapsed="true"><value name="IF0"><block type="mini_g2_rfid_status" id="rY8T)]ocK}D9uAbapc:^"><field name="key">True</field></block></value><statement name="DO0"><block type="display_show_image_or_string_delay" id="Qd?IS.Y2i:a8O:f,$La*"><field name="center">True</field><value name="data"><shadow type="text" id="6)ni)w}0e8NLvB@,zYEu"><field name="TEXT">=</field></shadow></value><value name="space"><shadow type="math_number" id="#qYED/=0{A$$PZRt0ARH"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="a;@8L_(31{Kqfor;KcQ."><field name="VAR">用户认证</field><value name="VALUE"><block type="logic_boolean" id="8_;M:b5I(I2kYWbRd/*["><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="!J,d~A^~g[E}H!LPQZa("><field name="VAR">电梯所在楼层</field><value name="VALUE"><block type="math_random" id="H0Ry:*!vISn|qLwG5z2F"><field name="TYPE">int</field><value name="FROM"><shadow type="math_number" id="`f|,7};QmtVB*I:.XP4Q"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number" id="R7va,]$P04#y7-g-]OjO"><field name="NUM">4</field></shadow></value></block></value><next><block type="do_while" id="tnCA!Z-S$ec=st9Z2fAu" inline="false"><field name="type">true</field><value name="select_data"><block type="logic_operation" id="~zxuBP42R4oC*:zftUez" inline="false"><field name="OP">OR</field><value name="A"><block type="logic_operation" id="^=j^aP;LSX!Wd()grQ(I"><field name="OP">OR</field><value name="A"><block type="sensor_mixgo_button_is_pressed" id="fnvx~#`UANy003kIz[a,"><value name="btn"><shadow type="pins_button" id="bOC;}=)VR}$nh]^Q=ijF"><field name="PIN">A1key</field></shadow></value></block></value><value name="B"><block type="sensor_mixgo_button_is_pressed" id="V1E4]ZXO8DtoD:{HKblB"><value name="btn"><shadow type="pins_button" id="$kE[NF,w8(JHe)hV5P*~"><field name="PIN">A2key</field></shadow></value></block></value></block></value><value name="B"><block type="logic_operation" id="$grR[Bc/;~uou@?8mY:9"><field name="OP">OR</field><value name="A"><block type="sensor_mixgo_button_is_pressed" id="45;|ZF^PY2Ty=q[U9vri"><value name="btn"><shadow type="pins_button" id="}Y31qy5-Bv]4Awswt[X."><field name="PIN">A3key</field></shadow></value></block></value><value name="B"><block type="sensor_mixgo_button_is_pressed" id="+r/e66F:62ZyF8R0Ek-g"><value name="btn"><shadow type="pins_button" id="qPIh{OWBA1^$K_s|B)MG"><field name="PIN">A4key</field></shadow></value></block></value></block></value></block></value><next><block type="controls_if" id="7+#VT/@3#$b1(f`htH6]" inline="false"><mutation elseif="3"></mutation><value name="IF0"><block type="sensor_mixgo_button_is_pressed" id="qw.~0#.owm}]gjjo3b_n"><value name="btn"><shadow type="pins_button" id="N(n@KhG3sXgm]@?5g||N"><field name="PIN">A1key</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="T5]2sI~$ni9o*O2e;hVv"><field name="VAR">用户目标楼层</field><value name="VALUE"><block type="math_number" id="R/DBrVyNA)?8p(Y2]}Jn"><field name="NUM">1</field></block></value></block></statement><value name="IF1"><block type="sensor_mixgo_button_is_pressed" id="pYn|Mc!-[ep4}`i5w5IF"><value name="btn"><shadow type="pins_button" id="b:FQ]DF`R`6?.yg}8J6["><field name="PIN">A2key</field></shadow></value></block></value><statement name="DO1"><block type="variables_set" id="wf.`{wPCv9n;}xpKOB-^"><field name="VAR">用户目标楼层</field><value name="VALUE"><block type="math_number" id="g3qKF4S4J|cSiJ?NX$xk"><field name="NUM">2</field></block></value></block></statement><value name="IF2"><block type="sensor_mixgo_button_is_pressed" id="CXFgQ;-pMHZ`Gw]PDeBS"><value name="btn"><shadow type="pins_button" id="!{#/=e!=!MwT;5)}yD$P"><field name="PIN">A3key</field></shadow></value></block></value><statement name="DO2"><block type="variables_set" id=".H(Aqeyu|$F)CDeO!}RW"><field name="VAR">用户目标楼层</field><value name="VALUE"><block type="math_number" id="4pIWLq)D~`INxIn-?7(7"><field name="NUM">3</field></block></value></block></statement><value name="IF3"><block type="sensor_mixgo_button_is_pressed" id="G!@KL[k#S@*kM-,j-`g?"><value name="btn"><shadow type="pins_button" id="]k$[e`ho**!qdC1qI}B."><field name="PIN">A4key</field></shadow></value></block></value><statement name="DO3"><block type="variables_set" id="iTCtkN-+MLu4-NHY#S6y"><field name="VAR">用户目标楼层</field><value name="VALUE"><block type="math_number" id="gR/LLRzva!-Jnr[UunuL"><field name="NUM">4</field></block></value></block></statement><next><block type="display_scroll_string" id="MLJ7[ZT)Zpiu`Y$5KZ$("><value name="data"><shadow type="text" id="JNDkrDK=(BqwRe_vdlyu"><field name="TEXT">Mixly</field></shadow><block type="number_to_text" id="}!4T/fZhX[:TiVYT0.z3"><value name="VAR"><shadow type="variables_get" id="-6?^?*V,?c]#o0,41#`I"><field name="VAR">x</field></shadow><block type="variables_get" id="~bJ.ArG{s~b/V5~=l)@i"><field name="VAR">用户目标楼层</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="YDx`H!FmZ{Aq963rTNWV"><value name="IF0"><block type="variables_get" id="-rAgT4vX#88}lw^?iV.`"><field name="VAR">用户认证</field></block></value><statement name="DO0"><block type="controls_if" id="42*Oh/OP[}3?CblT[U=;"><mutation elseif="1" else="1"></mutation><value name="IF0"><block type="logic_compare" id="/!351Ei_oqEks-lmEUPe"><field name="OP">LT</field><value name="A"><block type="variables_get" id="bu|ME-`-lt/[x,7afI)s"><field name="VAR">电梯所在楼层</field></block></value><value name="B"><block type="variables_get" id="*~jl^]N2Q,bsOD/#z@Ot"><field name="VAR">用户目标楼层</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="4$?hj9H=TE+MTMjj1_nb"><field name="VAR">电梯行为</field><value name="VALUE"><block type="text" id="ZW)wMr^{vX#:pUFc[:o9"><field name="TEXT">^</field></block></value></block></statement><value name="IF1"><block type="logic_compare" id=":-K7$68F$)yR!t,uuDeF"><field name="OP">GT</field><value name="A"><block type="variables_get" id="l4z[Th1#q*E;_T[:MCX-"><field name="VAR">电梯所在楼层</field></block></value><value name="B"><block type="variables_get" id="z!;}Fhkrkr5EfNuV;TII"><field name="VAR">用户目标楼层</field></block></value></block></value><statement name="DO1"><block type="variables_set" id="/oF.qN09WL:ca9S)n.3c"><field name="VAR">电梯行为</field><value name="VALUE"><block type="text" id="?8QaYo3Jeb/T3p^fgMA-"><field name="TEXT">v</field></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="93u.a1*i3]+gc9tPY;n_"><field name="VAR">电梯行为</field><value name="VALUE"><block type="text" id="|:pz|18sr9]m8=iL/vE:"><field name="TEXT">-</field></block></value></block></statement><next><block type="display_show_image_or_string_delay" id="A)p{*0at@L@tDI?s@)zP"><field name="center">True</field><value name="data"><shadow type="text" id="s@$]cmT_C!])NN:26Yxt"><field name="TEXT">Mixly</field></shadow><block type="number_to_text" id="N=oX(?Ta*Ep86K^1!KJ{"><value name="VAR"><shadow type="variables_get" id="i}S{T9#}(y],{s@Iq!{p"><field name="VAR">x</field></shadow><block type="variables_get" id="_2By03||/S18K@gk!!]#"><field name="VAR">电梯所在楼层</field></block></value></block></value><value name="space"><shadow type="math_number" id="d[rG$yBDIpwJaVz_nkt!"><field name="NUM">0</field></shadow></value><next><block type="controls_delay_new" id="Pom*IIl9K|b]Q@E/ds*4"><field name="Time">s</field><value name="DELAY_TIME"><shadow type="math_number" id="7=P+6P7h?bC3=h@[QQoi"><field name="NUM">0.2</field></shadow></value><next><block type="controls_if" id="aYO~-0a-elMBS])#L!f["><mutation elseif="1" else="1"></mutation><value name="IF0"><block type="logic_compare" id="zj9R}AEqSZ]}63r2?y26"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="y~oIBj3=d|SswVi$kQaH"><field name="VAR">电梯行为</field></block></value><value name="B"><block type="text" id="L=/u}[`=eB^R]B+7-+.o"><field name="TEXT">v</field></block></value></block></value><statement name="DO0"><block type="math_selfcalcu" id="=FibXUkk|*SLf{TDtm1I"><field name="OP">MINUS</field><value name="A"><shadow type="variables_get" id="gl|VhH0_#O;:zpDqhvJh"><field name="VAR">a</field></shadow><block type="variables_get" id="N;*8ko335Q(xw{89#WA]"><field name="VAR">电梯所在楼层</field></block></value><value name="B"><shadow type="math_number" id="OJnx@tqy.8t|*ZpAL(Ue"><field name="NUM">1</field></shadow></value></block></statement><value name="IF1"><block type="logic_compare" id="swln{]K${{]^d]MIe)K."><field name="OP">EQ</field><value name="A"><block type="variables_get" id="fKUh46.z?r6$k{tYjBTC"><field name="VAR">电梯行为</field></block></value><value name="B"><block type="text" id="Kee@Mr6J{*Ksmh;47Pch"><field name="TEXT">^</field></block></value></block></value><statement name="DO1"><block type="math_selfcalcu" id="r9PKlp(tF7)Gruz9udEa"><field name="OP">ADD</field><value name="A"><shadow type="variables_get" id="11$K_fggO:wwsd.JKn!c"><field name="VAR">a</field></shadow><block type="variables_get" id="9+c:S7`dxjWFR.y4Rdr)"><field name="VAR">电梯所在楼层</field></block></value><value name="B"><shadow type="math_number" id="jMfL3/hr7)xPS*[1{nZf"><field name="NUM">1</field></shadow></value></block></statement><statement name="ELSE"><block type="controls_if" id="@g*qQ/eV4~ogn=V3Z$,4"><value name="IF0"><block type="sensor_mixgo_button_was_pressed" id="L+pHN;P+#HgRNQ}OT|T^"><value name="btn"><shadow type="pins_button" id="A5v^_$Tpn.hwY7Zw+):p"><field name="PIN">B1key</field></shadow></value></block></value><statement name="DO0"><block type="display_show_image" id="q2^JM^f)m9?kFR/@[ZHe"><value name="data"><shadow type="pins_builtinimg" id="qs)85oYb|Y~u;H0;fzZ~"><field name="PIN">onboard_matrix.DOOR_OPEN</field></shadow></value><next><block type="controls_delay_new" id="Yvkf?{DMVqhshd+[gl*("><field name="Time">s</field><value name="DELAY_TIME"><shadow type="math_number" id="_$wytt|mMz!H#i#Gf#m]"><field name="NUM">1.5</field></shadow></value><next><block type="display_show_image" id="/UbZ)*`X]#I*0S}4Jfup"><value name="data"><shadow type="pins_builtinimg" id="MzGefO:G:1gkohjyz;/x"><field name="PIN">onboard_matrix.DOOR_CLOSE</field></shadow></value><next><block type="variables_set" id="(SU$J-N.q=/XXwXTShDH"><field name="VAR">用户认证</field><value name="VALUE"><block type="logic_boolean" id=":|h6!v*7PRU=phlgpjD~"><field name="BOOL">FALSE</field></block></value><next><block type="display_show_image_or_string_delay" id="IObyY@*ZL*#UvmndIV+^"><field name="center">True</field><value name="data"><shadow type="text" id="s)k*mM2t6]ac*1MaN5}6"><field name="TEXT">x</field></shadow></value><value name="space"><shadow type="math_number" id="O}3:q(EMwo)4t$J(C6$z"><field name="NUM">0</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></statement></block></next></block></next></block></next></block></statement></block></next></block></statement></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></xml><config>{}</config><code>ZnJvbSBtaXhnb19taW5pIGltcG9ydCBvbmJvYXJkX21hdHJpeApmcm9tIG1peGdvX21pbmkgaW1wb3J0IG9uYm9hcmRfYm90CmZyb20gbWluaV9nMiBpbXBvcnQgZXh0X3JmaWQKaW1wb3J0IHJhbmRvbQppbXBvcnQgbWl4Z29fbWluaQppbXBvcnQgdGltZQoKCueUteair+aJgOWcqOalvOWxgiA9IDEK55So5oi35omA5Zyo5qW85bGCID0gMQrnlKjmiLfnm67moIfmpbzlsYIgPSAxCueUteair+ihjOS4uiA9ICctJwrnlKjmiLforqTor4EgPSBGYWxzZQpvbmJvYXJkX21hdHJpeC5zaG93cygneCcsc3BhY2UgPSAwLGNlbnRlciA9IFRydWUpCndoaWxlIFRydWU6CiAgICBpZiBvbmJvYXJkX2JvdC50b3VjaF9zbGlkZSgpIDwgNTA6CiAgICAgICAgaWYgZXh0X3JmaWQuc2Nhbl9jYXJkKCk9PVRydWU6CiAgICAgICAgICAgIG9uYm9hcmRfbWF0cml4LnNob3dzKCc9JyxzcGFjZSA9IDAsY2VudGVyID0gVHJ1ZSkKICAgICAgICAgICAg55So5oi36K6k6K+BID0gVHJ1ZQogICAgICAgICAgICDnlLXmoq/miYDlnKjmpbzlsYIgPSByYW5kb20ucmFuZGludCgxLCA0KQogICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgaWYgKChtaXhnb19taW5pLkExa2V5LmlzX3ByZXNzZWQoKSBvciBtaXhnb19taW5pLkEya2V5LmlzX3ByZXNzZWQoKSkgb3IgKG1peGdvX21pbmkuQTNrZXkuaXNfcHJlc3NlZCgpIG9yIG1peGdvX21pbmkuQTRrZXkuaXNfcHJlc3NlZCgpKSk6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgaWYgbWl4Z29fbWluaS5BMWtleS5pc19wcmVzc2VkKCk6CiAgICAgICAgICAgICAgICDnlKjmiLfnm67moIfmpbzlsYIgPSAxCiAgICAgICAgICAgIGVsaWYgbWl4Z29fbWluaS5BMmtleS5pc19wcmVzc2VkKCk6CiAgICAgICAgICAgICAgICDnlKjmiLfnm67moIfmpbzlsYIgPSAyCiAgICAgICAgICAgIGVsaWYgbWl4Z29fbWluaS5BM2tleS5pc19wcmVzc2VkKCk6CiAgICAgICAgICAgICAgICDnlKjmiLfnm67moIfmpbzlsYIgPSAzCiAgICAgICAgICAgIGVsaWYgbWl4Z29fbWluaS5BNGtleS5pc19wcmVzc2VkKCk6CiAgICAgICAgICAgICAgICDnlKjmiLfnm67moIfmpbzlsYIgPSA0CiAgICAgICAgICAgIG9uYm9hcmRfbWF0cml4LnNjcm9sbChzdHIo55So5oi355uu5qCH5qW85bGCKSkKICAgICAgICBpZiDnlKjmiLforqTor4E6CiAgICAgICAgICAgIGlmIOeUteair+aJgOWcqOalvOWxgiA8IOeUqOaIt+ebruagh+alvOWxgjoKICAgICAgICAgICAgICAgIOeUteair+ihjOS4uiA9ICdeJwogICAgICAgICAgICBlbGlmIOeUteair+aJgOWcqOalvOWxgiA+IOeUqOaIt+ebruagh+alvOWxgjoKICAgICAgICAgICAgICAgIOeUteair+ihjOS4uiA9ICd2JwogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAg55S15qKv6KGM5Li6ID0gJy0nCiAgICAgICAgICAgIG9uYm9hcmRfbWF0cml4LnNob3dzKHN0cijnlLXmoq/miYDlnKjmpbzlsYIpLHNwYWNlID0gMCxjZW50ZXIgPSBUcnVlKQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMikKICAgICAgICAgICAgaWYg55S15qKv6KGM5Li6ID09ICd2JzoKICAgICAgICAgICAgICAgIOeUteair+aJgOWcqOalvOWxgiAtPSAxCiAgICAgICAgICAgIGVsaWYg55S15qKv6KGM5Li6ID09ICdeJzoKICAgICAgICAgICAgICAgIOeUteair+aJgOWcqOalvOWxgiArPSAxCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiBtaXhnb19taW5pLkIxa2V5Lndhc19wcmVzc2VkKCk6CiAgICAgICAgICAgICAgICAgICAgb25ib2FyZF9tYXRyaXguc2hvd3Mob25ib2FyZF9tYXRyaXguRE9PUl9PUEVOKQogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMS41KQogICAgICAgICAgICAgICAgICAgIG9uYm9hcmRfbWF0cml4LnNob3dzKG9uYm9hcmRfbWF0cml4LkRPT1JfQ0xPU0UpCiAgICAgICAgICAgICAgICAgICAg55So5oi36K6k6K+BID0gRmFsc2UKICAgICAgICAgICAgICAgICAgICBvbmJvYXJkX21hdHJpeC5zaG93cygneCcsc3BhY2UgPSAwLGNlbnRlciA9IFRydWUpCg==</code>