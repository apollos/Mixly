<xml version="Mixly 2.0 rc3" board="MixGo CE@MixGo CE"><variables><variable id="KEvvo5f~z6ePhdlw^BDj">client</variable><variable id="{H+[WN/,w_BL(gVzp?%v">topic</variable><variable id="g7X8Vu#(6#Bd,pMV.d59">msg</variable></variables><block type="variables_set" id="Fe6;K*T6]fRfm-`:EH*G" x="-1257" y="-836"><field name="VAR">上次发送时间</field><value name="VALUE"><block type="controls_millis" id="eO4.-nd[7WP-p^fpec@q"><field name="Time">ms</field></block></value><next><block type="variables_set" id=")|Xd6yfUlkIfONKZ=_v}"><field name="VAR">客厅灯状态</field><value name="VALUE"><block type="text" id="35Ced0Wgs16zmH:Df]iQ"><field name="TEXT">0</field></block></value><next><block type="variables_set" id="W+.dF1?trgM7aMjkFX/k"><field name="VAR">报警器状态</field><value name="VALUE"><block type="text" id="1jMMeD}UyH`WyMZ2itat"><field name="TEXT">0</field></block></value><next><block type="variables_set" id="UqVfalcd+?FQ|qvX?gYK"><field name="VAR">发送器文本</field><value name="VALUE"><block type="text" id="Eq(bVC8Q|)UDij_3,,JZ"><field name="TEXT"></field></block></value><next><block type="iot_wifi_connect" id="z=d+9!v]rZ-BmK,7?M3U"><value name="WIFINAME"><shadow type="text" id="x+JVIw$YLia6!g{OpaMD"><field name="TEXT">wifiname</field></shadow></value><value name="PASSWORD"><shadow type="text" id="ze?7Tw|[-S]qpiV.kIl-"><field name="TEXT">wifipassword</field></shadow></value><next><block type="IOT_EMQX_INIT_AND_CONNECT_BY_SHARE_CODE" id="zN$L[JLudUjqnk3+p4i{"><value name="SERVER"><shadow type="text" id="4wSYaWX|Kit967Tf+V`U"><field name="TEXT">mixio.mixly.cn</field></shadow></value><value name="KEY"><shadow type="factory_block_return" id="SY(CZae8s1|,KZ+P(78d"><field name="VALUE">A1B2C3</field></shadow></value><next><block type="IOT_MIXIO_SUBSCRIBE" id="RiSeh|3V1~Na((DC*wdS"><value name="TOPIC"><shadow type="text" id="^v!/jg^!NpIHOXv7;i5N"><field name="TEXT">客厅</field></shadow></value><value name="METHOD"><shadow type="factory_block_return" id="Z$rit39?-Tb0viD`v+c`"><field name="VALUE">method1</field></shadow></value><next><block type="IOT_MIXIO_SUBSCRIBE" id="tubeXx@6w_Z2g5plMNQ7"><value name="TOPIC"><shadow type="text" id="ek5aM~Gai[)Fovwr4(H@"><field name="TEXT">报警</field></shadow></value><value name="METHOD"><shadow type="factory_block_return" id="_^e#=vmg(Av7_x,L09?O"><field name="VALUE">method2</field></shadow></value><next><block type="IOT_MIXIO_SUBSCRIBE" id="zG!^u4|Yn[+3NszL+d)O"><value name="TOPIC"><shadow type="text" id="d~C$D.xWTMlt?s,O]SWG"><field name="TEXT">发送</field></shadow></value><value name="METHOD"><shadow type="factory_block_return" id="8s^Eu_*6k:tqr[(?KE(j"><field name="VALUE">method3</field></shadow></value><next><block type="controls_whileUntil" id="18A@G.Bs|NaSNEBaV^,."><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean" id=",`Urj;P){[@,b.1I!C.C"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="iot_mixio_check" id="uBi8xOORLPN8ozVT)d|H"><next><block type="controls_if" id="l`o|]^G}gQOFJm9|Am{)"><value name="IF0"><block type="logic_compare" id="7pZspT5U+X.p4??g-aq0"><field name="OP">GT</field><value name="A"><block type="math_arithmetic" id="BDRK1}|/}uhU/hyhj`Ze"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="controls_millis" id="zR:HdriMU(rEiCyVmMB0"><field name="Time">ms</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="O[?iQr_4g.HvFmPoqk?l"><field name="VAR">上次发送时间</field></block></value></block></value><value name="B"><block type="math_number" id="n0d;YpD?ys{R~E3nM4JM"><field name="NUM">5000</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="!x/Y},6pqgh8*hMVy~/)"><field name="VAR">上次发送时间</field><value name="VALUE"><block type="controls_millis" id="H$WZ:-UMZpx,O4V;rb.D"><field name="Time">ms</field></block></value><next><block type="IOT_MIXIO_PUBLISH" id="pE^Z)lL$1=_u2E+w5_Tz"><value name="TOPIC"><shadow type="text" id="45x}L:x6r}$OmN^3nfUx"><field name="TEXT">客厅</field></shadow></value><value name="MSG"><shadow type="text"><field name="TEXT">msg</field></shadow><block type="variables_get" id="fYTY*kJ,]/M30sMLuia6"><field name="VAR">客厅灯状态</field></block></value><next><block type="IOT_MIXIO_PUBLISH" id="DY5M=P@h+z$gwii#Bu,_"><value name="TOPIC"><shadow type="text" id="27XY[+GSyrmFRl^Oh-^H"><field name="TEXT">报警</field></shadow></value><value name="MSG"><shadow type="text"><field name="TEXT">msg</field></shadow><block type="variables_get" id="_-5##fdgn:s1Y5!d}fjP"><field name="VAR">报警器状态</field></block></value><next><block type="IOT_MIXIO_PUBLISH" id="-XS6}yV|)^R5pMeCSe}8"><value name="TOPIC"><shadow type="text" id="Xz|2.dh;};PJg]B1=Mbw"><field name="TEXT">发送</field></shadow></value><value name="MSG"><shadow type="text"><field name="TEXT">msg</field></shadow><block type="variables_get" id="_J9QVW^X0,xem(ruAg^X"><field name="VAR">发送器文本</field></block></value><next><block type="IOT_MIXIO_PUBLISH" id="le3/I1i5T?82X,KzNn^9"><value name="TOPIC"><shadow type="text" id="lh69:4VIDI]kDavU4S[3"><field name="TEXT">温度</field></shadow></value><value name="MSG"><shadow type="text"><field name="TEXT">msg</field></shadow><block type="sensor_mixgoce_temperature" id="vaCXZ@][GzM4O,:g]cF8"></block></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="procedures_defnoreturn" id="[YG/kz_7r+R67-5]r_Z2" x="-497" y="-840"><mutation><arg name="client" varid="KEvvo5f~z6ePhdlw^BDj"></arg><arg name="topic" varid="{H+[WN/,w_BL(gVzp?%v"></arg><arg name="msg" varid="g7X8Vu#(6#Bd,pMV.d59"></arg></mutation><field name="NAME">method1</field><statement name="STACK"><block type="variables_global" id="$[VFe(x?:_T8UQ)VjK~H"><value name="VAR"><block type="variables_get" id="Z[z8=4h-Nk*O!Sl{)nii"><field name="VAR">客厅灯状态</field></block></value><next><block type="controls_if" id="I8{xbgGnPK/s!o3jST:6"><mutation elseif="1"></mutation><value name="IF0"><block type="text_equals_starts_ends" id="u0U?!tI1X?iM}0LlUSAP"><field name="DOWHAT">===</field><value name="STR1"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="Lbnx**ytgk]b8OqEnXvh"><field name="VAR">msg</field></block></value><value name="STR2"><shadow type="text" id="R]P]2{S8||9D4#q)?uYC"><field name="TEXT">1</field></shadow></value></block></value><statement name="DO0"><block type="mixgo_actuator_led_bright" id="M~pSHZaMmpNZWaaro1iV"><value name="led"><shadow type="number" id="dGoYOt[YA?-+r6Q:?P@D"><field name="op">1</field></shadow></value><value name="bright"><shadow type="ledswitch" id="5CX@xp1AF-!G3m-V)LUD"><field name="flag">1</field></shadow></value></block></statement><value name="IF1"><block type="text_equals_starts_ends" id="3oO8*;#BP}F/*8f*re6`"><field name="DOWHAT">===</field><value name="STR1"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="~MIt9d|zeb,9?V5,h5B."><field name="VAR">msg</field></block></value><value name="STR2"><shadow type="text" id="v*E.vgfl])/g:c*xC}Gg"><field name="TEXT">0</field></shadow></value></block></value><statement name="DO1"><block type="mixgo_actuator_led_bright" id="RuOxTW=S|W#a]o8~FAEp"><value name="led"><shadow type="number" id="xBc`A2,27=i3{Z7q.w4E"><field name="op">1</field></shadow></value><value name="bright"><shadow type="ledswitch" id="j,xUF#)~eosRDnO?hBx2"><field name="flag">0</field></shadow></value></block></statement><next><block type="variables_set" id="51uK{(fmkd3Q7M^}SGOL"><field name="VAR">客厅灯状态</field><value name="VALUE"><block type="variables_get" id="ACo5{k?iNVL3bH)*3KN1"><field name="VAR">msg</field></block></value></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="i3XS/iU5p}SM#k2]pZcz" x="32" y="-847"><mutation><arg name="client" varid="KEvvo5f~z6ePhdlw^BDj"></arg><arg name="topic" varid="{H+[WN/,w_BL(gVzp?%v"></arg><arg name="msg" varid="g7X8Vu#(6#Bd,pMV.d59"></arg></mutation><field name="NAME">method2</field><statement name="STACK"><block type="variables_global" id="NbrINFAd}*hIP-W!*/+B"><value name="VAR"><block type="variables_get" id="Y]D`z/W?Jp9Kl?**s-6#"><field name="VAR">报警器状态</field></block></value><next><block type="controls_if" id="T3d}vD}A;Uw}B:Dcnj$a"><mutation elseif="1"></mutation><value name="IF0"><block type="text_equals_starts_ends" id="oa|t`cSTOZC1N-6rQ`y8"><field name="DOWHAT">===</field><value name="STR1"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="|pi,+g`Q9D6.og`ttS;c"><field name="VAR">msg</field></block></value><value name="STR2"><shadow type="text" id="dVVWHx3j:KALh-779Iub"><field name="TEXT">1</field></shadow></value></block></value><statement name="DO0"><block type="esp32_onboard_music_pitch" id="}6MwjHwD#={rXgFFJ6hI"><value name="pitch"><shadow type="pins_tone_notes" id="`H_9e3:~@seS8z14y]LI"><field name="PIN">440</field></shadow></value></block></statement><value name="IF1"><block type="text_equals_starts_ends" id="5n{yM#Xy{IaunXIm2@z`"><field name="DOWHAT">===</field><value name="STR1"><shadow xmlns="http://www.w3.org/1999/xhtml" type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="|R7}GgXnQs`?oT,0?jF9"><field name="VAR">msg</field></block></value><value name="STR2"><shadow type="text" id="4(c/}XSsm|(}wtrw[5j}"><field name="TEXT">0</field></shadow></value></block></value><statement name="DO1"><block type="controls_try_finally" id="ee.f4RGL^5{0p[Bl-[@;"><mutation elseif="1"></mutation><statement name="try"><block type="esp32_onboard_music_stop" id="nc-^OZQ=-Mm.$9sV]/lL"></block></statement><statement name="DO1"><block type="controls_pass" id="@JzO=.FAF@WWAfB,DNK0"></block></statement></block></statement><next><block type="variables_set" id="[z!/a(OTA`|7PA$$=IzW"><field name="VAR">报警器状态</field><value name="VALUE"><block type="variables_get" id="m4{s|Pr:|8EzNe2QY1wr"><field name="VAR">msg</field></block></value></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="Mc6T23{7pVF2V2MbX(SF" x="-490" y="-468"><mutation><arg name="client" varid="KEvvo5f~z6ePhdlw^BDj"></arg><arg name="topic" varid="{H+[WN/,w_BL(gVzp?%v"></arg><arg name="msg" varid="g7X8Vu#(6#Bd,pMV.d59"></arg></mutation><field name="NAME">method3</field><statement name="STACK"><block type="variables_global" id="H23n]Df4bNSc:~V_pI0p"><value name="VAR"><block type="variables_get" id="}0z7:wh#(hwG~nr88N*N"><field name="VAR">发送器文本</field></block></value><next><block type="display_show_image_or_string_delay" id="Rcc8*q4I~=D|E0.sp4wz"><field name="center">True</field><value name="data"><shadow type="text"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="TO9|IGsY+cn@=LT^V(Ov"><field name="VAR">msg</field></block></value><value name="space"><shadow type="math_number" id="n=dyfOkF0^x(`BHe?ca8"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="lRzNX~b61)o:ld)@cz89"><field name="VAR">发送器文本</field><value name="VALUE"><block type="variables_get" id="6LgVDiJl@fd*K)S~0sd,"><field name="VAR">msg</field></block></value></block></next></block></next></block></statement></block></xml><code>aW1wb3J0IHRpbWUKaW1wb3J0IG1peGlvdAppbXBvcnQgbWFjaGluZQppbXBvcnQgdXJlcXVlc3RzCmZyb20gdWJpbmFzY2lpIGltcG9ydCBoZXhsaWZ5CmZyb20gbWl4cHkgaW1wb3J0IGFuYWx5c2Vfc2hhcmVrZXkKaW1wb3J0IG1peGdvX2NlCmZyb20gbWl4Z29fY2UgaW1wb3J0IGxlZDEKZnJvbSBtaXhnb19jZSBpbXBvcnQgb25ib2FyZF9tdXNpYwpmcm9tIG1peGdvX2NlIGltcG9ydCBvbmJvYXJkX21hdHJpeAoKZGVmIG1ldGhvZDEoY2xpZW50LCB0b3BpYywgbXNnKToKICAgIGdsb2JhbCBfRTVfQUVfQTJfRTVfOEVfODVfRTdfODFfQUZfRTdfOEFfQjZfRTZfODBfODEKICAgIGlmIG1zZyA9PSAnMSc6CiAgICAgICAgbGVkMS5zZXRvbm9mZigxKQogICAgZWxpZiBtc2cgPT0gJzAnOgogICAgICAgIGxlZDEuc2V0b25vZmYoMCkKICAgIF9FNV9BRV9BMl9FNV84RV84NV9FN184MV9BRl9FN184QV9CNl9FNl84MF84MSA9IG1zZwoKZGVmIG1ldGhvZDIoY2xpZW50LCB0b3BpYywgbXNnKToKICAgIGdsb2JhbCBfRTZfOEFfQTVfRThfQURfQTZfRTVfOTlfQThfRTdfOEFfQjZfRTZfODBfODEKICAgIGlmIG1zZyA9PSAnMSc6CiAgICAgICAgb25ib2FyZF9tdXNpYy5waXRjaCg0NDApCiAgICBlbGlmIG1zZyA9PSAnMCc6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBvbmJvYXJkX211c2ljLnN0b3AoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwogICAgX0U2XzhBX0E1X0U4X0FEX0E2X0U1Xzk5X0E4X0U3XzhBX0I2X0U2XzgwXzgxID0gbXNnCgpkZWYgbWV0aG9kMyhjbGllbnQsIHRvcGljLCBtc2cpOgogICAgZ2xvYmFsIF9FNV84Rl85MV9FOV84MF84MV9FNV85OV9BOF9FNl85Nl84N19FNl85Q19BQwogICAgb25ib2FyZF9tYXRyaXguc2hvd3MobXNnLHNwYWNlID0gMCxjZW50ZXIgPSBUcnVlKQogICAgX0U1XzhGXzkxX0U5XzgwXzgxX0U1Xzk5X0E4X0U2Xzk2Xzg3X0U2XzlDX0FDID0gbXNnCgoKCl9FNF9COF84QV9FNl9BQ19BMV9FNV84Rl85MV9FOV84MF84MV9FNl85N19CNl9FOV85N19CNCA9IHRpbWUudGlja3NfbXMoKQpfRTVfQUVfQTJfRTVfOEVfODVfRTdfODFfQUZfRTdfOEFfQjZfRTZfODBfODEgPSAnMCcKX0U2XzhBX0E1X0U4X0FEX0E2X0U1Xzk5X0E4X0U3XzhBX0I2X0U2XzgwXzgxID0gJzAnCl9FNV84Rl85MV9FOV84MF84MV9FNV85OV9BOF9FNl85Nl84N19FNl85Q19BQyA9ICcnCm1peGlvdC53bGFuX2Nvbm5lY3QoJ3dpZmluYW1lJywnd2lmaXBhc3N3b3JkJykKc2sgPSBhbmFseXNlX3NoYXJla2V5KCdodHRwOi8vbWl4aW8ubWl4bHkuY24vbWl4aW8tcGhwL3NoYXJla2V5LnBocD9zaz1BMUIyQzMnKQpNUVRUX1VTUl9QUkogPSBza1swXSsnLycrc2tbMV0rJy8nCm1xdHRfY2xpZW50ID0gbWl4aW90LmluaXRfTVFUVF9jbGllbnQoJ21peGlvLm1peGx5LmNuJywgc2tbMF0sIHNrWzJdLCBNUVRUX1VTUl9QUkopCm1xdHRfY2xpZW50LnNldF9jYWxsYmFjaygn5a6i5Y6FJyxtZXRob2QxLCBNUVRUX1VTUl9QUkopCm1xdHRfY2xpZW50LnN1YnNjcmliZShNUVRUX1VTUl9QUkogKyAn5a6i5Y6FJykKbXF0dF9jbGllbnQuc2V0X2NhbGxiYWNrKCfmiqXoraYnLG1ldGhvZDIsIE1RVFRfVVNSX1BSSikKbXF0dF9jbGllbnQuc3Vic2NyaWJlKE1RVFRfVVNSX1BSSiArICfmiqXoraYnKQptcXR0X2NsaWVudC5zZXRfY2FsbGJhY2soJ+WPkemAgScsbWV0aG9kMywgTVFUVF9VU1JfUFJKKQptcXR0X2NsaWVudC5zdWJzY3JpYmUoTVFUVF9VU1JfUFJKICsgJ+WPkemAgScpCndoaWxlIFRydWU6CiAgICBtcXR0X2NsaWVudC5jaGVja19tc2coKQogICAgaWYgdGltZS50aWNrc19tcygpIC0gX0U0X0I4XzhBX0U2X0FDX0ExX0U1XzhGXzkxX0U5XzgwXzgxX0U2Xzk3X0I2X0U5Xzk3X0I0ID4gNTAwMDoKICAgICAgICBfRTRfQjhfOEFfRTZfQUNfQTFfRTVfOEZfOTFfRTlfODBfODFfRTZfOTdfQjZfRTlfOTdfQjQgPSB0aW1lLnRpY2tzX21zKCkKICAgICAgICBtcXR0X2NsaWVudC5wdWJsaXNoKE1RVFRfVVNSX1BSSiArICflrqLljoUnLCBfRTVfQUVfQTJfRTVfOEVfODVfRTdfODFfQUZfRTdfOEFfQjZfRTZfODBfODEpCiAgICAgICAgbXF0dF9jbGllbnQucHVibGlzaChNUVRUX1VTUl9QUkogKyAn5oql6K2mJywgX0U2XzhBX0E1X0U4X0FEX0E2X0U1Xzk5X0E4X0U3XzhBX0I2X0U2XzgwXzgxKQogICAgICAgIG1xdHRfY2xpZW50LnB1Ymxpc2goTVFUVF9VU1JfUFJKICsgJ+WPkemAgScsIF9FNV84Rl85MV9FOV84MF84MV9FNV85OV9BOF9FNl85Nl84N19FNl85Q19BQykKICAgICAgICBtcXR0X2NsaWVudC5wdWJsaXNoKE1RVFRfVVNSX1BSSiArICfmuKnluqYnLCBtaXhnb19jZS5nZXRfdGVtcGVyYXR1cmUoKSkK</code>